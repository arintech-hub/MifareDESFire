# DFSession
Manages the control and update of the different parameters needed during a communication session with a Mifare DESfire card.

The class has the following methods and enummeration:

|METHODS                                       |DESCRIPTION                                                                                        |
|:---------------------------------------------|:--------------------------------------------------------------------------------------------------|
|public DFSession()|Sets the session parameters to their default values|
|public void resetAuth()|Re-starts the authentication status if needed|
|public void cancelAuth()|Forces the re-start of the authentication status|
|public void setAuth(AuthType newAuthType, int authKeyNum, byte[] newSessionKey, boolean PICCAuth)|Stores the parameters of the new authentication status @param newAuthType an instance of class <code>AuthType</code> representing the type of authentication @param authKeyNum an int representing the number of the key to which the authentication has been achieved @param newSessionKey a byte array containing the session key generated by means of the authentication procedure @param PICCAuth a boolean indicating whether the card can be trusted or not|
|public void setSelectedAID(AID aid)|Updates the identifier of the currently selected application within the card @param aid an instance of class <code>AID</code> representing the currently selected application|
|public AuthType getAuthType()|@return an instance of class <code>AuthType</code> representing the current authentication type|
|public int getAuthKeyNum()|@return an int representing the number of the key to which the authentication has been achieved|
|public byte[] getSessionKey()|@return a byte array containing the session key generated by means of the authentication procedure|
|public boolean getPICCAuth()|@return a boolean indicating whether the card can be trusted or not|
|public AID getSelectedAID()|@return an instance of class <code>AID</code> representing the currently selected application|
|public void updateCmacIV(byte[] newIV)|Updates the new initial vector for the computation of the CMAC @param newIV a byte array containing the new CMAC initial vector|
|public void updateCmacIV(byte[] newIV, boolean cmacOK)|Updates the new initial vector for the computation of the CMAC and indicates whether the previous CMAC check has been successful or not @param newIV a byte array containing the new CMAC initial vector @param cmacOK a boolean indicating whether the previous CMAC check has been successful or not|
|public byte[] getCmacIV()|Retrieves the current CMAC initial value @return a byte array containing the current CMAC initial value|
|public boolean getCmacOK()|Retrieves the current CMAC check status @return <code>true</code> if the previous CMAC check was successful; <code>false</code> otherwise|
